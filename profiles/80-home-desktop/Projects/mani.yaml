projects:
  archive:
    url: git@github.com:hnjae/archive
  dotfiles:
    url: git@github.com:hnjae/dotfiles
  full-stack-todo:
    url: git@github.com:hnjae/full-stack-todo
  hnjae.github.io:
    url: git@github.com:hnjae/hnjae.github.io
  logseq-home:
    url: git@github.com:hnjae/logseq-home
  my-ledger:
    url: git@github.com:hnjae/my-ledger
  nix-config:
    url: git@github.com:hnjae/nix-config
  obsidian:
    url: git@github.com:hnjae/obsidian.git
  obsidian.nvim:
    url: git@github.com:hnjae/obsidian.nvim
  published-articles:
    url: git@github.com:hnjae/published-articles
  py-utils:
    url: git@github.com:hnjae/py-utils
  resume:
    url: git@github.com:hnjae/resume.git
  backend-interview-question:
    url: git@github.com:hnjae/backend-interview-question'
  type-challenges:
    url: git@github.com:hnjae/type-challenges.git
  zfs-prune:
    url: hnjae@eris:/srv/git/zfs-prune
  restic-scrub:
    url: hnjae@eris:/srv/git/restic-scrub
specs:
  default:
    output: markdown
    parallel: true
    forks: 4
targets:
  home:
    projects: [archive, dotfiles, obsidian, nix-config]
  all:
    all: true
tasks:
  fetch-home:
    target: home
    cmd: git fetch --all
  status:
    target: all
    cmd: git status --short --branch --untracked-files=all
    # branch=$(git rev-parse --abbrev-ref HEAD)
    # ahead_behind=$(git rev-list --count --left-right origin/$branch..$branch) >/dev/null
    #
    # if [ "$ahead_behind" != "0       0" ] || [ -z "$(git status --porcelain)" ]; then
    # fi
    #       branch=$(git rev-parse --abbrev-ref HEAD)
    # ahead=$(git rev-list --count origin/$branch..$branch)
    # behind=$(git rev-list --count $branch..origin/$branch)
    # echo "$ahead commits ahead, $behind commits behind"
  fetch:
    target: all
    cmd: git fetch --all
  pull:
    target: all
    cmd: git pull --ff-only
